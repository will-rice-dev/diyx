{"openapi":"3.1.0","info":{"title":"DIYX API","description":"REST API for user authentication, settings management, and portfolio tracking","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Authentication","description":"Register and login endpoints"},{"name":"Portfolios","description":"Portfolio management endpoints"},{"name":"Settings","description":"User settings endpoints"}],"paths":{"/api/portfolios":{"get":{"tags":["Portfolios"],"summary":"List all portfolios for the current user","operationId":"findAll","responses":{"200":{"description":"Portfolios retrieved successfully","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PortfolioResponse"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PortfolioResponse"}}}}}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Portfolios"],"summary":"Create a portfolio","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePortfolioRequest"}}},"required":true},"responses":{"400":{"description":"Validation error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"201":{"description":"Portfolio created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/auth/register":{"post":{"tags":["Authentication"],"summary":"Register a new user","description":"Creates a new user account and returns a JWT token","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"201":{"description":"User registered successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"400":{"description":"Validation error or username already taken","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Authenticates credentials and returns a JWT token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Login successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"400":{"description":"Invalid credentials","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/users/me/settings":{"get":{"tags":["Settings"],"summary":"Get current user settings","operationId":"getSettings","responses":{"200":{"description":"Settings retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SettingsResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SettingsResponse"}}}}},"security":[{"bearerAuth":[]}]},"patch":{"tags":["Settings"],"summary":"Update current user settings","operationId":"updateSettings","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSettingsRequest"}}},"required":true},"responses":{"200":{"description":"Settings updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SettingsResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SettingsResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/portfolios/{id}":{"get":{"tags":["Portfolios"],"summary":"Get a portfolio by ID","operationId":"findById","parameters":[{"name":"id","in":"path","description":"Portfolio ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Portfolio not found or access denied","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"200":{"description":"Portfolio retrieved successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["Portfolios"],"summary":"Delete a portfolio","operationId":"delete","parameters":[{"name":"id","in":"path","description":"Portfolio ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Portfolio not found or access denied"},"204":{"description":"Portfolio deleted successfully"},"401":{"description":"Unauthorized"}},"security":[{"bearerAuth":[]}]},"patch":{"tags":["Portfolios"],"summary":"Update a portfolio","operationId":"update","parameters":[{"name":"id","in":"path","description":"Portfolio ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePortfolioRequest"}}},"required":true},"responses":{"400":{"description":"Validation error, portfolio not found, or access denied","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"200":{"description":"Portfolio updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}}},"security":[{"bearerAuth":[]}]}}},"components":{"schemas":{"CreatePortfolioRequest":{"type":"object","properties":{"name":{"type":"string"},"stocks":{"type":"object","additionalProperties":{"type":"number","format":"float"}}},"required":["name","stocks"]},"PortfolioResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"stocks":{"type":"object","additionalProperties":{"type":"number","format":"float"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"RegisterRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string","maxLength":2147483647,"minLength":8}},"required":["password","username"]},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"token":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}},"required":["password","username"]},"UpdateSettingsRequest":{"type":"object","properties":{"timezone":{"type":"string"},"theme":{"type":"string","enum":["LIGHT","DARK"]}}},"SettingsResponse":{"type":"object","properties":{"timezone":{"type":"string"},"theme":{"type":"string","enum":["LIGHT","DARK"]}}},"UpdatePortfolioRequest":{"type":"object","properties":{"name":{"type":"string"},"stocks":{"type":"object","additionalProperties":{"type":"number","format":"float"}}},"required":["name","stocks"]}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}